<databaseChangeLog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

	<changeSet id="COMPLAINTS_USER" author="stoica.vladut">

		<comment>COMPLAINTS_USER TABLE CREATION</comment>

		<createTable tableName="COMPLAINTS_USER" tablespace="${tbs.smalldata}" remarks="Holds main information about the user">

			<column name="ID" type="NUMBER(18)" remarks="Unique record identifier" >
				<constraints primaryKey="true" primaryKeyName="COMPLAINTS_USER_ID_PK"/>
			</column>
			
			<column name="LOGIN" type="VARCHAR2(30)" remarks="Users login">
				<constraints nullable="false" unique="true" uniqueConstraintName="COMPLAINTS_USER_LOGIN_UK"/>
			</column>

			<column name="EMAIL" type="VARCHAR2(100)" remarks="Email">
				<constraints nullable="true"/>
			</column>

			<column name="FIRST_NAME" type="VARCHAR2(50)" remarks="First name">
				<constraints nullable="true"/>
			</column>

			<column name="FULL_NAME" type="VARCHAR2(255)" remarks="Full name">
				<constraints nullable="false"/>
			</column>
			
			<column name="LAST_NAME" type="VARCHAR2(50)" remarks="Last name">
				<constraints nullable="true"/>
			</column>
			
			<column name="MOBILE_NUMBER" type="VARCHAR2(255)" remarks="Mobile number">
				<constraints nullable="true"/>
			</column>
			
			<column name="PHONE_NUMBER" type="VARCHAR2(255)" remarks="Phone number">
				<constraints nullable="true"/>
			</column>

			<column name="LAST_LOGIN_TS" type="DATETIME" remarks="Users login" />

            <column name="VERSION" type="NUMBER(18)" remarks="Record version generated by Hibernate" defaultValue="0">
                <constraints nullable="false"/>
            </column>

            <column name="CREATED_DATE" type="DATETIME" remarks="Date when record was created in the database" >
                <constraints nullable="false"/>
            </column>

            <column name="CREATED_BY" type="VARCHAR2(30)" remarks="User who created record">
                <constraints nullable="false"/>
            </column>

            <column name="UPDATED_DATE" type="DATETIME" remarks="The last date when record was updated" >
                <constraints nullable="false"/>
            </column>

            <column name="UPDATED_BY" type="VARCHAR2(30)" remarks="The last User who updated record">
                <constraints nullable="false"/>
            </column>
            
            <column name="ACTIVE_YN" type="BOOLEAN" remarks="Record activity.">
				<constraints nullable="false"/>
			</column>

		</createTable>

		<!-- rollback statement -->
		<rollback>
			<dropTable tableName="COMPLAINTS_USER"/>
		</rollback>

	</changeSet>

</databaseChangeLog>